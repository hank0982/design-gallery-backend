(self.webpackChunkdesign_gallery=self.webpackChunkdesign_gallery||[]).push([[336],{5336:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RatingCollectionModule:()=>oe});var i=n(1116),c=n(3464),o=n(436),r=n(3530),u=n(9996),a=n(3148),d=n(878),Z=n(1041),l=n(3406),s=n(5366),g=n(3805),A=n(6242),h=n(4009),p=n(2878),x=n(8567),T=n(4156),q=n(1419),f=n(5965),C=n(7681),k=n(7672),v=n(1293);function N(e,t){if(1&e&&s._UZ(0,"img",7),2&e){const e=s.oxw();s.s9C("src",e.currentImages[0].url,s.LSH)}}function I(e,t){if(1&e&&s._UZ(0,"img",7),2&e){const e=s.oxw();s.s9C("src",e.currentImages[1].url,s.LSH)}}function b(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("APPROPRIATENESS")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.APPROPRIATENESS?"Hide comments":"Show comments"," ")}}function J(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s._UZ(2,"br"),s.TgZ(3,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(4,"option",32),s._uU(5,"Appropriateness"),s.qZA(),s.TgZ(6,"option",33),s._uU(7,"Emphasis"),s.qZA(),s.TgZ(8,"option",34),s._uU(9,"Alignment"),s.qZA(),s.TgZ(10,"option",35),s._uU(11,"Hierarchy"),s.qZA(),s.TgZ(12,"option",36),s._uU(13,"Readability"),s.qZA(),s.TgZ(14,"option",37),s._uU(15,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function E(e,t){if(1&e&&(s.ynx(0),s.YNc(1,J,16,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","APPROPRIATENESS"===e.aspect)}}function H(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,E,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function m(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("EMPHASIS")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.EMPHASIS?"Hide comments":"Show comments"," ")}}function S(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s._UZ(2,"br"),s.TgZ(3,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(4,"option",38),s._uU(5,"Appropriateness"),s.qZA(),s.TgZ(6,"option",39),s._uU(7,"Emphasis"),s.qZA(),s.TgZ(8,"option",34),s._uU(9,"Alignment"),s.qZA(),s.TgZ(10,"option",35),s._uU(11,"Hierarchy"),s.qZA(),s.TgZ(12,"option",36),s._uU(13,"Readability"),s.qZA(),s.TgZ(14,"option",37),s._uU(15,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function R(e,t){if(1&e&&(s.ynx(0),s.YNc(1,S,16,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","EMPHASIS"===e.aspect)}}function M(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,R,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function w(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("ALIGNMENT")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.ALIGNMENT?"Hide comments":"Show comments"," ")}}function U(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s.TgZ(2,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(3,"option",38),s._uU(4,"Appropriateness"),s.qZA(),s.TgZ(5,"option",33),s._uU(6,"Emphasis"),s.qZA(),s.TgZ(7,"option",40),s._uU(8,"Alignment"),s.qZA(),s.TgZ(9,"option",35),s._uU(10,"Hierarchy"),s.qZA(),s.TgZ(11,"option",36),s._uU(12,"Readability"),s.qZA(),s.TgZ(13,"option",37),s._uU(14,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function Q(e,t){if(1&e&&(s.ynx(0),s.YNc(1,U,15,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","ALIGNMENT"===e.aspect)}}function _(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,Q,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function P(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("HIERARCHY")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.HIERARCHY?"Hide comments":"Show comments"," ")}}function Y(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s._UZ(2,"br"),s.TgZ(3,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(4,"option",38),s._uU(5,"Appropriateness"),s.qZA(),s.TgZ(6,"option",33),s._uU(7,"Emphasis"),s.qZA(),s.TgZ(8,"option",34),s._uU(9,"Alignment"),s.qZA(),s.TgZ(10,"option",41),s._uU(11,"Hierarchy"),s.qZA(),s.TgZ(12,"option",36),s._uU(13,"Readability"),s.qZA(),s.TgZ(14,"option",37),s._uU(15,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function O(e,t){if(1&e&&(s.ynx(0),s.YNc(1,Y,16,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","HIERARCHY"===e.aspect)}}function F(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,O,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function L(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("CONSISTENCY")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.CONSISTENCY?"Hide comments":"Show comments"," ")}}function y(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s._UZ(2,"br"),s.TgZ(3,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(4,"option",38),s._uU(5,"Appropriateness"),s.qZA(),s.TgZ(6,"option",33),s._uU(7,"Emphasis"),s.qZA(),s.TgZ(8,"option",34),s._uU(9,"Alignment"),s.qZA(),s.TgZ(10,"option",35),s._uU(11,"Hierarchy"),s.qZA(),s.TgZ(12,"option",36),s._uU(13,"Readability"),s.qZA(),s.TgZ(14,"option",42),s._uU(15,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function D(e,t){if(1&e&&(s.ynx(0),s.YNc(1,y,16,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","CONSISTENCY"===e.aspect)}}function B(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,D,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function V(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).toggleFeedbackVisiblity("READABILITY")}),s._uU(1),s.qZA()}if(2&e){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.feedbackVisibleDict.READABILITY?"Hide comments":"Show comments"," ")}}function G(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li"),s._uU(1),s._UZ(2,"br"),s.TgZ(3,"select",31),s.NdJ("change",function(t){s.CHM(e);const n=s.oxw().index;return s.oxw(3).handleSelectChange(n,t)}),s.TgZ(4,"option",38),s._uU(5,"Appropriateness"),s.qZA(),s.TgZ(6,"option",33),s._uU(7,"Emphasis"),s.qZA(),s.TgZ(8,"option",34),s._uU(9,"Alignment"),s.qZA(),s.TgZ(10,"option",35),s._uU(11,"Hierarchy"),s.qZA(),s.TgZ(12,"option",43),s._uU(13,"Readability"),s.qZA(),s.TgZ(14,"option",37),s._uU(15,"Consistency"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.content," ")}}function j(e,t){if(1&e&&(s.ynx(0),s.YNc(1,G,16,1,"li",30),s.BQk()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("ngIf","READABILITY"===e.aspect)}}function $(e,t){if(1&e&&(s.TgZ(0,"tr",10),s._UZ(1,"th",14),s.TgZ(2,"td",15),s.ynx(3),s.YNc(4,j,2,1,"ng-container",29),s.BQk(),s.qZA(),s.qZA()),2&e){const e=s.oxw(2);s.xp6(4),s.Q6J("ngForOf",e.feedbackUnits)}}function z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr",10),s._UZ(4,"th",11),s.TgZ(5,"th",12),s._uU(6,"1"),s.qZA(),s.TgZ(7,"th",12),s._uU(8,"2"),s.qZA(),s.TgZ(9,"th",12),s._uU(10,"3"),s.qZA(),s.TgZ(11,"th",12),s._uU(12,"4"),s.qZA(),s.TgZ(13,"th",12),s._uU(14,"5"),s.qZA(),s.TgZ(15,"th",12),s._uU(16,"6"),s.qZA(),s.TgZ(17,"th",12),s._uU(18,"7"),s.qZA(),s._UZ(19,"th",13),s.qZA(),s.qZA(),s.TgZ(20,"tbody"),s.TgZ(21,"tr",10),s.TgZ(22,"th",14),s._uU(23,"Appropriateness"),s.qZA(),s.TgZ(24,"td",15),s.TgZ(25,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(26,"td",15),s.TgZ(27,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(28,"td",15),s.TgZ(29,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(30,"td",15),s.TgZ(31,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(32,"td",15),s.TgZ(33,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(34,"td",15),s.TgZ(35,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(36,"td",15),s.TgZ(37,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(38,"td",17),s.YNc(39,b,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(40,H,5,1,"tr",19),s.TgZ(41,"tr",10),s.TgZ(42,"th",14),s._uU(43,"Emphasis"),s.qZA(),s.TgZ(44,"td",15),s.TgZ(45,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(46,"td",15),s.TgZ(47,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(48,"td",15),s.TgZ(49,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(50,"td",15),s.TgZ(51,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(52,"td",15),s.TgZ(53,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(54,"td",15),s.TgZ(55,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(56,"td",15),s.TgZ(57,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(58,"td",17),s.YNc(59,m,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(60,M,5,1,"tr",19),s.TgZ(61,"tr",10),s.TgZ(62,"th",14),s._uU(63,"Alignment"),s.qZA(),s.TgZ(64,"td",15),s.TgZ(65,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(66,"td",15),s.TgZ(67,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(68,"td",15),s.TgZ(69,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(70,"td",15),s.TgZ(71,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(72,"td",15),s.TgZ(73,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(74,"td",15),s.TgZ(75,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(76,"td",15),s.TgZ(77,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(78,"td",17),s.YNc(79,w,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(80,_,5,1,"tr",19),s.TgZ(81,"tr",10),s.TgZ(82,"th",14),s._uU(83,"Hierarchy"),s.qZA(),s.TgZ(84,"td",15),s.TgZ(85,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(86,"td",15),s.TgZ(87,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(88,"td",15),s.TgZ(89,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(90,"td",15),s.TgZ(91,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(92,"td",15),s.TgZ(93,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(94,"td",15),s.TgZ(95,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(96,"td",15),s.TgZ(97,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(98,"td",17),s.YNc(99,P,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(100,F,5,1,"tr",19),s.TgZ(101,"tr",10),s.TgZ(102,"th",14),s._uU(103,"Consistency"),s.qZA(),s.TgZ(104,"td",15),s.TgZ(105,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(106,"td",15),s.TgZ(107,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(108,"td",15),s.TgZ(109,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(110,"td",15),s.TgZ(111,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(112,"td",15),s.TgZ(113,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(114,"td",15),s.TgZ(115,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(116,"td",15),s.TgZ(117,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(118,"td",17),s.YNc(119,L,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(120,B,5,1,"tr",19),s.TgZ(121,"tr",10),s.TgZ(122,"th",14),s._uU(123,"Readability "),s.qZA(),s.TgZ(124,"td",15),s.TgZ(125,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(126,"td",15),s.TgZ(127,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(128,"td",15),s.TgZ(129,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(130,"td",15),s.TgZ(131,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(132,"td",15),s.TgZ(133,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(134,"td",15),s.TgZ(135,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(136,"td",15),s.TgZ(137,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(138,"td",17),s.YNc(139,V,2,1,"a",18),s.qZA(),s.qZA(),s.YNc(140,$,5,1,"tr",19),s.TgZ(141,"tr",25),s.TgZ(142,"th",14),s._uU(143,"Overall"),s.qZA(),s.TgZ(144,"td",15),s.TgZ(145,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,1,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(146,"td",15),s.TgZ(147,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,2,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(148,"td",15),s.TgZ(149,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,3,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(150,"td",15),s.TgZ(151,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,4,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(152,"td",15),s.TgZ(153,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,5,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(154,"td",15),s.TgZ(155,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,6,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(156,"td",15),s.TgZ(157,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(0,7,"OVERALL")}),s.qZA(),s.qZA(),s._UZ(158,"td",17),s.qZA(),s.qZA(),s.qZA(),s.TgZ(159,"table",27),s.TgZ(160,"thead"),s.TgZ(161,"tr",10),s._UZ(162,"th",11),s.TgZ(163,"th",12),s._uU(164,"1"),s.qZA(),s.TgZ(165,"th",12),s._uU(166,"2"),s.qZA(),s.TgZ(167,"th",12),s._uU(168,"3"),s.qZA(),s.TgZ(169,"th",12),s._uU(170,"4"),s.qZA(),s.TgZ(171,"th",12),s._uU(172,"5"),s.qZA(),s.TgZ(173,"th",12),s._uU(174,"6"),s.qZA(),s.TgZ(175,"th",12),s._uU(176,"7"),s.qZA(),s._UZ(177,"th",13),s.qZA(),s.qZA(),s.TgZ(178,"tbody"),s.TgZ(179,"tr",10),s.TgZ(180,"th",14),s._uU(181,"Appropriateness"),s.qZA(),s.TgZ(182,"td",15),s.TgZ(183,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(184,"td",15),s.TgZ(185,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(186,"td",15),s.TgZ(187,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(188,"td",15),s.TgZ(189,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(190,"td",15),s.TgZ(191,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(192,"td",15),s.TgZ(193,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s.TgZ(194,"td",15),s.TgZ(195,"input",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"APPROPRIATENESS")}),s.qZA(),s.qZA(),s._UZ(196,"td",17),s.qZA(),s.TgZ(197,"tr",10),s.TgZ(198,"th",14),s._uU(199,"Emphasis"),s.qZA(),s.TgZ(200,"td",15),s.TgZ(201,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(202,"td",15),s.TgZ(203,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(204,"td",15),s.TgZ(205,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(206,"td",15),s.TgZ(207,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(208,"td",15),s.TgZ(209,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(210,"td",15),s.TgZ(211,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"EMPHASIS")}),s.qZA(),s.qZA(),s.TgZ(212,"td",15),s.TgZ(213,"input",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"EMPHASIS")}),s.qZA(),s.qZA(),s._UZ(214,"td",17),s.qZA(),s.TgZ(215,"tr",10),s.TgZ(216,"th",14),s._uU(217,"Alignment"),s.qZA(),s.TgZ(218,"td",15),s.TgZ(219,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(220,"td",15),s.TgZ(221,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(222,"td",15),s.TgZ(223,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(224,"td",15),s.TgZ(225,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(226,"td",15),s.TgZ(227,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(228,"td",15),s.TgZ(229,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"ALIGNMENT")}),s.qZA(),s.qZA(),s.TgZ(230,"td",15),s.TgZ(231,"input",21),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"ALIGNMENT")}),s.qZA(),s.qZA(),s._UZ(232,"td",17),s.qZA(),s.TgZ(233,"tr",10),s.TgZ(234,"th",14),s._uU(235,"Hierarchy"),s.qZA(),s.TgZ(236,"td",15),s.TgZ(237,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(238,"td",15),s.TgZ(239,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(240,"td",15),s.TgZ(241,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(242,"td",15),s.TgZ(243,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(244,"td",15),s.TgZ(245,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(246,"td",15),s.TgZ(247,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"HIERARCHY")}),s.qZA(),s.qZA(),s.TgZ(248,"td",15),s.TgZ(249,"input",22),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"HIERARCHY")}),s.qZA(),s.qZA(),s._UZ(250,"td",17),s.qZA(),s.TgZ(251,"tr",10),s.TgZ(252,"th",14),s._uU(253,"Consistency"),s.qZA(),s.TgZ(254,"td",15),s.TgZ(255,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(256,"td",15),s.TgZ(257,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(258,"td",15),s.TgZ(259,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(260,"td",15),s.TgZ(261,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(262,"td",15),s.TgZ(263,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(264,"td",15),s.TgZ(265,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"CONSISTENCY")}),s.qZA(),s.qZA(),s.TgZ(266,"td",15),s.TgZ(267,"input",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"CONSISTENCY")}),s.qZA(),s.qZA(),s._UZ(268,"td",17),s.qZA(),s.TgZ(269,"tr",10),s.TgZ(270,"th",14),s._uU(271,"Readability "),s.qZA(),s.TgZ(272,"td",15),s.TgZ(273,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(274,"td",15),s.TgZ(275,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(276,"td",15),s.TgZ(277,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(278,"td",15),s.TgZ(279,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(280,"td",15),s.TgZ(281,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(282,"td",15),s.TgZ(283,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"READABILITY")}),s.qZA(),s.qZA(),s.TgZ(284,"td",15),s.TgZ(285,"input",24),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"READABILITY")}),s.qZA(),s.qZA(),s._UZ(286,"td",17),s.qZA(),s.TgZ(287,"tr",25),s.TgZ(288,"th",14),s._uU(289,"Overall"),s.qZA(),s.TgZ(290,"td",15),s.TgZ(291,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,1,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(292,"td",15),s.TgZ(293,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,2,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(294,"td",15),s.TgZ(295,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,3,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(296,"td",15),s.TgZ(297,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,4,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(298,"td",15),s.TgZ(299,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,5,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(300,"td",15),s.TgZ(301,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,6,"OVERALL")}),s.qZA(),s.qZA(),s.TgZ(302,"td",15),s.TgZ(303,"input",26),s.NdJ("click",function(){return s.CHM(e),s.oxw().handleCheckbox(1,7,"OVERALL")}),s.qZA(),s.qZA(),s._UZ(304,"td",17),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("formGroup",e.currentForm),s.xp6(25),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForAppropriateness),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForAppropriateness&&e.feedbackVisibleDict.APPROPRIATENESS),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForEmphasis),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForEmphasis&&e.feedbackVisibleDict.EMPHASIS),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForAlignment),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForAlignment&&e.feedbackVisibleDict.ALIGNMENT),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForHierarchy),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForHierarchy&&e.feedbackVisibleDict.HIERARCHY),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForConsistency),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForConsistency&&e.feedbackVisibleDict.CONSISTENCY),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(2),s.Q6J("ngIf",e.hasFeedbackForReadability),s.xp6(1),s.Q6J("ngIf",e.hasFeedbackForReadability&&e.feedbackVisibleDict.READABILITY),s.xp6(5),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(26),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7),s.xp6(6),s.Q6J("value",1),s.xp6(2),s.Q6J("value",2),s.xp6(2),s.Q6J("value",3),s.xp6(2),s.Q6J("value",4),s.xp6(2),s.Q6J("value",5),s.xp6(2),s.Q6J("value",6),s.xp6(2),s.Q6J("value",7)}}function W(e,t){1&e&&(s.TgZ(0,"div",44),s._UZ(1,"mat-spinner"),s.qZA())}const X=function(e,t){return{"current-item":e,"finished-item":t}};function K(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",45),s.NdJ("click",function(){const t=s.CHM(e).index;return s.oxw().changeIndex(t)}),s.TgZ(1,"span"),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=s.oxw();s.Q6J("ngClass",s.WLB(2,X,i.currentIndex===n,i.ratedProjects&&i.ratedProjects[e._id])),s.xp6(2),s.Oqu(n+1)}}let ee=(()=>{class e{constructor(e,t,n,i,c,o,r,u){this.projectsService=e,this.imagesService=t,this.route=n,this.designsService=i,this.ratingsService=c,this.feedbackUnitsService=o,this.usersService=r,this.fb=u,this.currentIndex=0,this.isFirstImageLoading=!1,this.isSecondImageLoading=!1,this.isResultBeingSubmitted=!1,this.isRatingIsLoading=!1,this.feedbackVisibleDict={[l.u.ALIGNMENT]:!1,[l.u.APPROPRIATENESS]:!1,[l.u.CONSISTENCY]:!1,[l.u.EMPHASIS]:!1,[l.u.READABILITY]:!1,[l.u.HIERARCHY]:!1,[l.u.OVERALL]:!1}}get raterId(){return this.route.snapshot.paramMap.get("id")}get hasFeedbackForAppropriateness(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.APPROPRIATENESS))||void 0===e?void 0:e.length)>=1}get hasFeedbackForEmphasis(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.EMPHASIS))||void 0===e?void 0:e.length)>=1}get hasFeedbackForAlignment(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.ALIGNMENT))||void 0===e?void 0:e.length)>=1}get hasFeedbackForConsistency(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.CONSISTENCY))||void 0===e?void 0:e.length)>=1}get hasFeedbackForHierarchy(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.HIERARCHY))||void 0===e?void 0:e.length)>=1}get hasFeedbackForReadability(){var e;return!!this.feedbackUnits&&(null===(e=this.feedbackUnits.filter(e=>e.aspect===l.u.READABILITY))||void 0===e?void 0:e.length)>=1}ngOnInit(){this.projectsService.fetchAllProjects(0,0).subscribe(e=>{this.projects=e.results,this.refetchNewDesigns()}),this.updateRatedProjects()}changeIndex(e){this.currentIndex=e,this.refetchNewDesigns()}submitResults(){var e,t;null===(e=this.currentForm)||void 0===e||e.markAllAsTouched(),this.currentDesigns&&this.raterId&&(null===(t=this.currentForm)||void 0===t?void 0:t.valid)&&(this.isResultBeingSubmitted=!0,(0,a.D)([this.uploadDesignResult(!0),this.uploadDesignResult(!1)]).subscribe(e=>{this.isResultBeingSubmitted=!1}))}handleCheckbox(e,t,n){this.currentDesigns&&this.raterId&&this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[e]._id,aspect:n,raterId:this.raterId,rating:t}).subscribe()}uploadDesignResult(e){var t,n,i;const c=e?0:1,r=e?"firstDesign":"secondDesign";return this.currentDesigns&&this.raterId&&(null===(t=this.currentForm)||void 0===t?void 0:t.valid)?this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.ALIGNMENT,raterId:this.raterId,rating:Number(null===(i=null===(n=this.currentForm)||void 0===n?void 0:n.get(r))||void 0===i?void 0:i.get("alignment").value)}).pipe((0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.APPROPRIATENESS,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("appropriateness").value)})}),(0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.HIERARCHY,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("hierarchy").value)})}),(0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.READABILITY,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("readability").value)})}),(0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.CONSISTENCY,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("consistency").value)})}),(0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.EMPHASIS,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("emphasis").value)})}),(0,o.b)(()=>{var e,t;return this.ratingsService.createOrUpdateRating({designId:this.currentDesigns[c]._id,aspect:l.u.OVERALL,raterId:this.raterId,rating:Number(null===(t=null===(e=this.currentForm)||void 0===e?void 0:e.get(r))||void 0===t?void 0:t.get("overall").value)})})):(0,d.of)(void 0)}toggleFeedbackVisiblity(e){this.feedbackVisibleDict[e]=!this.feedbackVisibleDict[e]}updateCurrentFormWithPreviousRatings(e,t){var n,i,c,o,r,u,a,d,Z,l,s,g,A,h;const p=t?"firstDesign":"secondDesign";null===(i=null===(n=this.currentForm)||void 0===n?void 0:n.get(p))||void 0===i||i.get("alignment").setValue(e.rating.ALIGNMENT),null===(o=null===(c=this.currentForm)||void 0===c?void 0:c.get(p))||void 0===o||o.get("emphasis").setValue(e.rating.EMPHASIS),null===(u=null===(r=this.currentForm)||void 0===r?void 0:r.get(p))||void 0===u||u.get("appropriateness").setValue(e.rating.APPROPRIATENESS),null===(d=null===(a=this.currentForm)||void 0===a?void 0:a.get(p))||void 0===d||d.get("consistency").setValue(e.rating.CONSISTENCY),null===(l=null===(Z=this.currentForm)||void 0===Z?void 0:Z.get(p))||void 0===l||l.get("hierarchy").setValue(e.rating.HIERARCHY),null===(g=null===(s=this.currentForm)||void 0===s?void 0:s.get(p))||void 0===g||g.get("readability").setValue(e.rating.READABILITY),null===(h=null===(A=this.currentForm)||void 0===A?void 0:A.get(p))||void 0===h||h.get("overall").setValue(e.rating.OVERALL)}updateRatedProjects(){this.raterId&&this.usersService.ratedProjects(this.raterId).subscribe(e=>{this.ratedProjects=e})}getFeedbackUnitsForAspect(e){var t;return null===(t=this.feedbackUnits)||void 0===t?void 0:t.filter(t=>t.aspect===e)}handleSelectChange(e,t){this.feedbackUnits&&this.feedbackUnits[e]&&(this.feedbackUnits[e].aspect=t.target.value,this.feedbackUnitsService.updateFeedbackUnit(this.feedbackUnits[e]._id,{aspect:this.feedbackUnits[e].aspect}).subscribe(),this.feedbackUnits=[...this.feedbackUnits])}refetchNewDesigns(){this.currentForm=this.fb.group({firstDesign:this.fb.group({emphasis:[void 0,Z.kI.required],appropriateness:[void 0,Z.kI.required],hierarchy:[void 0,Z.kI.required],readability:[void 0,Z.kI.required],consistency:[void 0,Z.kI.required],alignment:[void 0,Z.kI.required],overall:[void 0,Z.kI.required]}),secondDesign:this.fb.group({emphasis:[void 0,Z.kI.required],appropriateness:[void 0,Z.kI.required],hierarchy:[void 0,Z.kI.required],readability:[void 0,Z.kI.required],consistency:[void 0,Z.kI.required],alignment:[void 0,Z.kI.required],overall:[void 0,Z.kI.required]})}),this.isFirstImageLoading=!0,this.isSecondImageLoading=!0,this.isRatingIsLoading=!0,this.currentDesigns=[],this.updateRatedProjects(),this.projects&&this.raterId&&(0,a.D)(this.projects[this.currentIndex].designIds.map(e=>this.designsService.fetchDesignById(e))).pipe((0,r.P)()).subscribe(e=>{var t,n,i;this.currentDesigns=e,this.currentDesigns.sort((e,t)=>e.version-t.version),this.raterId&&(0,a.D)([this.ratingsService.fetchRatingByRaterIdAndDesignId(this.raterId,null===(t=this.currentDesigns)||void 0===t?void 0:t[0]._id),this.ratingsService.fetchRatingByRaterIdAndDesignId(this.raterId,null===(n=this.currentDesigns)||void 0===n?void 0:n[1]._id),this.feedbackUnitsService.fetchFeedbackUnits({designId:null===(i=this.currentDesigns)||void 0===i?void 0:i[0]._id})]).subscribe(([e,t,n])=>{e.results.length>0&&this.updateCurrentFormWithPreviousRatings(e.results[0],!0),t.results.length>0&&this.updateCurrentFormWithPreviousRatings(t.results[0],!1),this.feedbackUnits=n,this.isRatingIsLoading=!1}),(0,a.D)(this.currentDesigns.map(e=>e.imageUrl?(0,d.of)({url:e.imageUrl}):e.imageId?this.imagesService.fetchImageById(e.imageId).pipe((0,u.U)(e=>Object.assign(Object.assign({},e),{url:`http://${e.url}`}))):(0,d.of)({}))).subscribe(e=>{this.currentImages=e})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(g.m),s.Y36(A.C),s.Y36(c.gz),s.Y36(h.i),s.Y36(p.w),s.Y36(x.g),s.Y36(T.f),s.Y36(Z.qu))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-rating-collection"]],decls:10,vars:5,consts:[["gdColumns","1fr 1fr","gdGap","100px",1,"image-container"],["class","image-size",3,"hidden","src",4,"ngIf"],["gdColumns","1fr 1fr","gdGap","100px","class","image-container",3,"formGroup",4,"ngIf"],["class","image-container",4,"ngIf"],["gdColumn","",1,"pagniation-container"],["fxLayout","row wrap","width","100%"],["fxFlex","30px","class","item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"image-size",3,"hidden","src"],["gdColumns","1fr 1fr","gdGap","100px",1,"image-container",3,"formGroup"],["formGroupName","firstDesign",1,"table"],[1,"row"],["scope","col",1,"col-4"],["scope","col",1,"col"],["scope","col",1,"col-3"],["scope","row",1,"col-4"],[1,"col"],["type","radio","formControlName","appropriateness",1,"form-check-input",3,"value","click"],[1,"col-3"],["class","feedback-toggle",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["type","radio","formControlName","emphasis",1,"form-check-input",3,"value","click"],["type","radio","formControlName","alignment",1,"form-check-input",3,"value","click"],["type","radio","formControlName","hierarchy",1,"form-check-input",3,"value","click"],["type","radio","formControlName","consistency",1,"form-check-input",3,"value","click"],["type","radio","formControlName","readability",1,"form-check-input",3,"value","click"],[1,"row","overall-row"],["type","radio","formControlName","overall",1,"form-check-input",3,"value","click"],["formGroupName","secondDesign",1,"table"],[1,"feedback-toggle",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],["name","aspect",3,"change"],["value","APPROPRIATENESS","selected",""],["value","EMPHASIS"],["value","ALIGNMENT"],["value","HIERARCHY"],["value","READABILITY"],["value","CONSISTENCY"],["value","APPROPRIATENESS"],["value","EMPHASIS","selected",""],["value","ALIGNMENT","selected",""],["value","HIERARCHY","selected",""],["value","CONSISTENCY","selected",""],["value","READABILITY","selected",""],[1,"image-container"],["fxFlex","30px",1,"item",3,"ngClass","click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.YNc(1,N,1,1,"img",1),s.YNc(2,I,1,1,"img",1),s.qZA(),s.YNc(3,z,305,111,"div",2),s.YNc(4,W,2,0,"div",3),s.TgZ(5,"div",4),s.TgZ(6,"h4"),s._uU(7,"All projects"),s.qZA(),s.TgZ(8,"div",5),s.YNc(9,K,3,5,"div",6),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",t.currentImages&&t.currentImages[0]),s.xp6(1),s.Q6J("ngIf",t.currentImages&&t.currentImages[1]),s.xp6(1),s.Q6J("ngIf",t.currentForm&&!t.isRatingIsLoading),s.xp6(1),s.Q6J("ngIf",t.isRatingIsLoading),s.xp6(5),s.Q6J("ngForOf",t.projects))},directives:[q.OY,q.O7,i.O5,q.Dl,f.xw,i.sg,Z.JL,Z.sg,Z.x0,Z._,Z.Fj,Z.JJ,C.P,Z.u,Z.YN,Z.Kr,k.$g,f.yH,i.mk,v.oO],styles:[".item[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;line-height:30px;width:30px;height:30px;cursor:pointer;margin:10px}.item[_ngcontent-%COMP%]:hover{background-color:#0000004d}.current-item[_ngcontent-%COMP%]{background-color:#000;color:#fff}.pagniation-container[_ngcontent-%COMP%]{margin:100px 10px 10px;width:100%}.image-size[_ngcontent-%COMP%]{border:3px solid #f2f2f2;width:100%}.image-container[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;margin-top:40px}.finished-item[_ngcontent-%COMP%]{background-color:#08ad084d}.feedback-toggle[_ngcontent-%COMP%]{cursor:pointer;color:blue;text-decoration:underline}.overall-row[_ngcontent-%COMP%]{border-top:1px solid}"]}),e})();var te=n(6277),ne=n(4369),ie=n(9969);const ce=[{path:":id",component:ee}];let oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,ne.ot,Z.u5,ie.m,Z.UX,k.Cq,te.o9,c.Bz.forChild(ce)]]}),e})()}}]);